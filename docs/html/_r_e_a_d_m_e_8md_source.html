<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: /Users/apple/Desktop/gokul/ATT-GITHUB/test/m2x-arduino-master/M2XStreamClient/README.md Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('_r_e_a_d_m_e_8md.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">/Users/apple/Desktop/gokul/ATT-GITHUB/test/m2x-arduino-master/M2XStreamClient/README.md</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_r_e_a_d_m_e_8md.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;Arduino M2X API Client</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;=====================</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;**NOTE**: As of version 2.2.0, we have change the library to header-only implementation. To read more about the reason behind this change, please check out [RATIONALE](./RATIONALE.md) file.</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;The Arduino library is used to send/receive data to/from [AT&amp;amp;T&#39;s M2X service](https://m2x.att.com/) from [Arduino](http://www.arduino.cc/) based devices.</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;This library has been tested on the following embedded boards:</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;* Arduino Uno</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;* Arduino Yun</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;* LinkIt One</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;* ESP8266</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;If you are using other boards, your mileage may very.</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;Getting Started</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;==========================</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;1. Signup for an [M2X Account](https://m2x.att.com/signup).</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;2. Obtain your _Master Key_ from the Master Keys tab of your [Account Settings](https://m2x.att.com/account) screen.</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;3. Create your first [Device](https://m2x.att.com/devices) and copy its _Device ID_.</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;4. Review the [M2X API Documentation](https://m2x.att.com/developer/documentation/overview).</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;5. Obtain an Arduino with built-in wifi or ethernet, or a separate wifi or ethernet shield and [set it up](http://arduino.cc/en/Guide/HomePage). These docs were written for an [__Arduino Uno__](http://arduino.cc/en/Main/arduinoBoardUno) with a wifi or ethernet shield but the instructions can be adapted for other Arduino models.</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;Please consult the [M2X glossary](https://m2x.att.com/developer/documentation/glossary) if you have questions about any M2X specific terms.</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;How to Install the library</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;==========================</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;This library depends on [jsonlite](https://github.com/citrusbyte/jsonlite), the installation steps are as follows:</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;1. Clone the repository and sync submodules:</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;   ```</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;   $ git clone https://github.com/attm2x/m2x-arduino</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;   $ cd m2x-arduino</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;   $ git submodule update --init</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;   ```</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;   **NOTE**: You might notice that we add jsonlite as a submodule, this is due to the fact that we are still using an older version of jsonlite now. We might remove this restriction once we migrate to latest version.</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;2. Open the Arduino IDE, click `Sketch-&gt;Import Library...-&gt;Add Library...`, then navigate to `vendor/jsonlite/amalgamated/jsonlite` folder in the repository. The jsonlite library will be imported to Arduino this way.</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;   **NOTE**: There will be three (3) folders named jsonlite:</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;   * `vendor/jsonlite`: the repo folder</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;   * `vendor/jsonlite/jsonlite`: the un-flattened jsonlite source folder</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;   * `vendor/jsonlite/amalgamated/jsonlite`: the flattened jsonlite source for arduino</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;   You should use the final library listed here as the first two won&#39;t work!</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;3. Use the instructions outlined in Step 2 above to import the `M2XStreamClient` library in the repository.</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;4. Now you can find M2X examples under `File-&gt;Examples-&gt;M2XStreamClient`</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;Hardware Setup</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;==============</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;Board Setup</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;-----------</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;The Arduino website has a very good [tutorial](http://arduino.cc/en/Guide/HomePage) on setting up the Arduino board. It contains detailed instructions on how to install the Arduino IDE, sets up your board for initial testing. Feel free to proceed to the [Arduino site](http://arduino.cc/en/Guide/HomePage) to get a basic idea on Arduino.</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;Wifi/Ethernet Shield Setup</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;--------------------------</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;To send data to the AT&amp;amp;T M2X service, or receive data from the AT&amp;amp;T M2X service, your Arduino board needs a connection to the Internet. Hence, an Arduino [Wifi Shield](http://arduino.cc/en/Main/ArduinoWiFiShield) or [Ethernet Shield](http://arduino.cc/en/Main/ArduinoEthernetShield) might be needed to give your board the power to connect to the Internet. To install the shield, hook the shield onto your Arduino board — you can use the pins on the shield the same way as the real pins on the Arduino boards.</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;However, if you are using an [Arduino Yun](http://arduino.cc/en/Main/ArduinoBoardYun) board, [LinkIt One board](http://www.seeedstudio.com/depot/LinkIt-ONE-p-2017.html) or [ESP8266 module](http://www.adafruit.com/product/2471) instead of an [Arduino Uno](http://arduino.cc/en/Main/ArduinoBoardUno) board, you can skip this section since these boards normally has Wifi or Ethernet adapter on board, however, it is recommended to check out the board&#39;s manual for detailed instructions.</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;Sensor Setup</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;------------</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;Different sensors can be hooked up to an Arduino board to provide different properties including temperatures, humidity, etc. You can use a breadboard as well as wires to connect different sensors to your Arduino. For a detailed tutorial on connecting different sensors, please refer to the Arduino [Examples page](http://arduino.cc/en/Tutorial/HomePage).</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;3G Shield Setup</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;------------</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;If you are using a 3G GSM/GPRS shield with your Arduino, the [M2X Arduino SIMCOM module](https://github.com/attm2x/m2x-arduino-simcom) can be used to connect your device to the AT&amp;T cellular data network.</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;Variables used in Examples</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;==========================</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;In order to run the given examples, different variables need to be configured. We will walk through those variables in this section.</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;Network Configuration</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;---------------------</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;If you are using a Wifi Shield, the following variables need configuration:</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;```</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;char ssid[] = &quot;&lt;ssid&gt;&quot;;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;char pass[] = &quot;&lt;WPA password&gt;&quot;;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;```</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;Just fill in the SSID and password of the Wifi hotspot and you should be good to go.</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;For an Ethernet Shield, the following variables are needed:</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;```</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;byte mac[] = { 0xDE, 0xAD, 0xBE, 0xEF, 0xFE, 0xED };</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;IPAddress ip(192,168,1,17);</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;```</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;For a newer Ethernet Shield, the MAC address should be printed on a sticker on the shield. However, some old Ethernet Shields have no MAC address shown on the board. In this case, you can use any MAC address, as long as it does not conflict with another network device within the same LAN.</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;The IP address here is only used when DHCP fails to give a valid IP address. It is recommended, though not required, to provide a unique IP address.</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;M2X API Key</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;-----------</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;Once you [register](https://m2x.att.com/signup) for an AT&amp;amp;T M2X account, an API key is automatically generated for you. This key is called a _Primary Master Key_ and can be found in the _Master Keys_ tab of your [Account Settings](https://m2x.att.com/account). This key cannot be edited or deleted, but it can be regenerated. It will give you full access to all APIs.</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;However, you can also create a _Device API Key_ associated with a given Device, you can use the Device API key to access the streams belonging to that Device.</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;You can customize this variable in the following line in the examples:</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;```</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;char m2xKey[] = &quot;&lt;M2X access key&gt;&quot;;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;```</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;Device ID</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;-------</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;A device is a source of data (it could be a physical device, a virtual device, a service, or an application). It is a set of data streams, such as streams of locations, temperatures, etc. The following line is needed to configure the device used:</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;```</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;char deviceId[] = &quot;&lt;device id&gt;&quot;;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;```</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;Stream Name</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;------------</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;A stream in a device is a set of times series data of a specific type (i,e. humidity, temperature). You can use the M2XStreamClient library to send stream values to M2X server, or receive stream values from M2X server. Use the following line to configure the stream if needed:</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;```</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;char streamName[] = &quot;&lt;stream name&gt;&quot;;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;```</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;Using the M2XStreamClient library</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;=========================</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;To use the M2X Arduino library, you need to import the library first:</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;```</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;#define ARDUINO_PLATFORM</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;#include &lt;M2XStreamClient.h&gt;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;```</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;Notice as of this version of the library, you have to define the board platform you will use. We might add auto-detection part in the future, but let&#39;s leave that for a future implementation. Supported platform right now include:</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;* `ARDUINO_PLATFORM`: can be used for Arduino boards(Uno, Yun, etc.) as well as LinkIt One boards.</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;* `ESP8266_PLATFORM`: can be used for ESP8266 boards.</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;These 2 lines right here only defines the writer functions, in other words, functions you can use to send values to M2X. To use reader functions, you have to add 2 more lines:</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;```</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;#define ARDUINO_PLATFORM</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;#define M2X_ENABLE_READER</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;#include &lt;jsonlite.h&gt;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;#include &lt;M2XStreamClient.h&gt;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;```</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;This will give you reader functions so you can read M2X values from your board. However, keep in mind that reader functions are only available for certain boards. One example is that as of now, ESP8266 platform does not support reader functions.</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;The M2X Arduino library can be used with both a Wifi connection and an Ethernet connection. For a Wifi connection, use the following code:</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;```</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;WiFiClient client;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;M2XStreamClient m2xClient(&amp;client, m2xKey);</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;```</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;For an Ethernet connection, use the following code:</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;```</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;EthernetClient client;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;M2XStreamClient m2xClient(&amp;client, m2xKey);</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;```</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;If you are using an [Arduino Yun](http://arduino.cc/en/Main/ArduinoBoardYun) board, you should use the following code:</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;```</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;YunClient client;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;M2XStreamClient m2xClient(&amp;client, m2xKey);</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;```</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;Foe LinkIt One boards, use the following Wifi client specification:</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;```</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;LWifiClient client;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;M2XStreamClient m2xClient(&amp;client, m2xKey);</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;```</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;For other boards not listed here, you might want to check their manual for the correct client type to use. Or you can also refer to the examples we provided for some tips.</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;In the M2XStreamClient, the following writer API functions are provided:</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;* `updateStreamValue`: Send stream value to M2X server</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;* `postDeviceUpdates`: Post values from multiple streams to M2X server</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;* `updateLocation`: Send location value of a device to M2X server</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;* `deleteValues`: Delete stream values from M2X server</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;And the following 2 reader functions are provided:</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;* `listStreamValues`: Receive stream value from M2X server</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;* `readLocation`: Receive location values of a device from M2X server</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;Returned values</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;---------------</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;For all those functions, the HTTP status code will be returned if we can fulfill an HTTP request. For example, `200` will be returned upon success, and `401` will be returned if we didn&#39;t provide a valid M2X API Key. A full-list of M2X API error codes can be found here: [M2X API Error Codes] (https://m2x.att.com/developer/documentation/overview#Client-Errors)</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;Otherwise, the following error codes will be used:</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;```</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;static const int E_NOCONNECTION = -1;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;static const int E_DISCONNECTED = -2;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;static const int E_NOTREACHABLE = -3;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;static const int E_INVALID = -4;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;static const int E_JSON_INVALID = -5;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;```</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;Update stream value</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;-------------------</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;The following functions can be used to post one single value to a stream, which belongs to a device:</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;```</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;template &lt;class T&gt;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;int updateStreamValue(const char* deviceId, const char* streamName, T value);</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;```</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;Here we use C++ templates to generate functions for different types of values, feel free to use values of `float`, `int`, `long` or even `const char*` types here.</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;Post device updates</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;-------------------</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;M2X also supports posting multiple values to multiple streams in one call, use the following function for this:</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;```</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;template &lt;class T&gt;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;int postDeviceUpdates(const char* deviceId, int streamNum,</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                      const char* names[], const int counts[],</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                      const char* ats[], T values[]);</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;```</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;Please refer to the comments in the source code on how to use this function, basically, you need to provide the list of streams you want to post to, and values for each stream.</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;Update Device Location</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;--------------------------</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;You can use the following function to update the location for a device:</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;```</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;template &lt;class T&gt;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;int updateLocation(const char* deviceId, const char* name,</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                   T latitude, T longitude, T elevation);</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;```</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;Different from stream values, locations are attached to devices rather than streams. We use templates here, since the values may be in different format, for example, you can express latitudes in both `double` and `const char*`.</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;Delete stream values</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;--------------------</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;The following function can be used to delete stream values within a date range:</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;```</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;int deleteValues(const char* deviceId, const char* streamName,</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                 const char* from, const char* end);</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;```</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;`from` and `end` fields here follow ISO 8601 time format.</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;List stream values</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;------------------</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;Since Arduino microcontrollers contain very limited memory, we cannot put the whole returned string in memory, parse it into JSON representations and read what we want. Instead, we use a callback-based mechanism here. We parse the returned JSON string piece by piece, whenever we got a new stream value point, we will call the following callback functions:</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;```</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;typedef void (*stream_value_read_callback)(const char* at,</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;                                           const char* value,</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;                                           int index,</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                                           void* context,</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                                           int type);</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;```</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;The implementation of the callback function is left for the user to fill in, you can read the value of the point in the `value` argument, and the timestamp of the point in the `at` argument. We even pass the index of this this data point in the whole stream as well as a user-specified context variable to this function, so as you can perform different tasks on this.</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;`type` indicates the type of value stored in `value`: 1 for string, 2 for number. However, keep in mind that `value` will always be a pointer to an array of char, even though `type` indicates the current value is a number. In this case, `atoi` or `atof` might be needed.</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;To read the stream values, all you need to do is calling this function:</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;```</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;int listStreamValues(const char* deviceId, const char* streamName,</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;                     stream_value_read_callback callback, void* context,</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                     const char* query = NULL);</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;```</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;Besides the device ID and stream name, only the callback function and a user context needs to be specified. Optional query parameters might also be available here, for example, the current query parameter picks value from a specific range:</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;```</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;start=2014-10-01T00:00:00Z&amp;end=2014-10-10T00:00:00Z</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;```</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;Read Device Location</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;------------------------</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;Similar to reading stream values, we also use callback functions here. The only difference is that different parameters are used in the function:</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;```</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;void (*location_read_callback)(const char* name,</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;                               double latitude,</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                               double longitude,</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                               double elevation,</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                               const char* timestamp,</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                               int index,</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                               void* context);</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;```</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;For memory space consideration, now we only provide double-precision when reading locations. An index of the location points is also provided here together with a user-specified context.</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;The API is also slightly different, in that the stream name is not needed here:</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;```</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;int readLocation(const char* deviceId, location_read_callback callback,</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;                 void* context);</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;```</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;Examples</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;========</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;We provide a series of examples that will help you get an idea of how to use the `M2XStreamClient` library to perform all kinds of tasks.</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;The name of each example consists of 2 parts: the board to use, and the function of that example. For example, `UnoPost` means this example targets the Arduino Uno board with a Wifi adapter, and the example will post a value to M2X. `EthernetUnoReceive` means this example also targets the Arduino Uno board, but uses an Ethernet adapter, the example will fetch values from M2X.</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;Note that the examples contain fictionary variables, and that they need to be configured as per the instructions above before running on your Arduino board. Each of the examples here also needs either a Wifi Shield or an Ethernet Shield hooked up to your device.</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;In the `UnoPost`, `EthernetUnoPost` and `YunPost`, a temperature sensor, a breadboard and 5 wires are also needed to get temperature data, and you will need to wire the board like [this](http://cl.ly/image/3M0P3T1A0G0l) before running the code. If you are using other boards, keep in mind that we are reading from `A0` in the code and the wiring should be similar to this one shown in the illustration.</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;After you have configured your variables and the board, plug the Arduino board into your computer via a Micro-USB cable, click `Verify` in the Arduino IDE, then click `Upload`, and the code should be uploaded to the board. You can check all the outputs in the `Serial Monitor` of the Arduino IDE.</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;Below is a short description for each example function group:</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;Post</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;-------</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;This example shows how to post temperatures to M2X.</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;Time</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;-------</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;This example works like `Post`, except that it uses M2X Time API with the TimeService provided to generate timestamps for the posted data.</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;PostMultiple</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;---------------</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;This example shows how to post multiple values to multiple streams in one API call.</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;UpdateLocation</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;-----------------</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;This example sends location data to M2X. Ideally a GPS device should be used here to read the coordinates, but for simplicity, we just use pre-set values here to show how to use the API.</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;Delete</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;---------</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;This example shows how to delete values within a stream by providing a date/time range.</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;FetchValues</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;--------------</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;This example reads stream values from M2X server and prints the stream data point to Serial interface. You can find the actual values in the Arduino `Serial Monitor`.</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;ReadLocation</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;---------------</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;This example reads location data of a device from M2X, and prints them to Serial interface. You can check the output in the `Serial Monitor` of the Arduino IDE.</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;LinkIt One Board Note</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;=====================</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;To run the examples for a LinkIt One board, The steps are slightly different from a standard Arduino board, and are listed below:</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;* Follow the [Quick Start Guide](http://www.seeedstudio.com/wiki/LinkIt_ONE#Quick_Start_Guide) to setup the environment for the board. Keep a note of the 2 COM ports used as we will use both of them later.</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;* Follow the `How to Install the library` section above to install the libraries needed.</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;* Open an example for LinkIt One board, configure the variables, including M2X key, Device ID, Stream Name, values, etc.</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;* From the Arduino IDE menu, click on _Tools_, _Board_, then select `LinkIt ONE` as the board to use.</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;* Also from the Arduino IDE menu, click on _Tools_, _Port_, then select the COM port which is marked as Debug Port in Step 1.</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;* Click _Upload_ to build and upload the examples.</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;* From the Arduino IDE menu, click on _Tools_, _Port_ then select the COM port which is marked as Modem Port in Step 1.</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;* Open the _Serial Monitor_, type anything in the input line above, then hit `Send`. The program is configured to start running only at this point, because you might otherwise miss the Serial outputs.</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;*NOTE*: Currently LinkIt One board development is only supported on Microsoft Windows XP, Windows Vista and Windows 7. It is strongly recommended that you use a 32-bit version instead of a 64-bit version for maximum compatibility.</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;ESP8266 Note</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;============</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;We&#39;ve successfully tested the example on an ESP8266 chip provided in the [Adafruit HUZZAH ESP8266 Breakout](http://www.adafruit.com/products/2471?&amp;main_page=product_info&amp;products_id=2471). If you are using other ESP8266 breakout combination, the code will theoretically work, but the setup step might be slightly different.</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;To run the example, you should follow the setup guide at [here](https://learn.adafruit.com/adafruit-huzzah-esp8266-breakout/overview) to assemble the board. Then you can install the M2X library following notes above, at this time, you should be able to start playing with the board.</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;However, 2 points here are worth mentioning:</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;* ESP8266 chip must be put into a special bootload mode before you flashing the Arduino program onto the chip, otherwise, the steps will just fail with `espcomm_open failed` error. To turn the chip into this mode, you have to follow the steps at [here](https://learn.adafruit.com/adafruit-huzzah-esp8266-breakout/using-arduino-ide#blink-test). Notice this only applies to Adafruit HUZZAH ESP8266 Breakout, if you are using other modules, the steps may vary.</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;* Right now only writer functions work on ESP8266 chip, in other words, you can use the board to post values to M2X, but not read and parse value returned by M2X server. This is because we haven&#39;t found a way to get jsonlite compiled successfully on ESP8266. We will continue working on this and will change this note if/when we can get it working.</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;LICENSE</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;=======</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;This library is released under the MIT license. See [`M2XStreamClient/LICENSE`](M2XStreamClient/LICENSE) for the terms.</div></div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="_r_e_a_d_m_e_8md.html">README.md</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
