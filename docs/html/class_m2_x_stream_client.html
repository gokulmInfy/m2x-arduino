<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: M2XStreamClient Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('class_m2_x_stream_client.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_m2_x_stream_client-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">M2XStreamClient Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="_m2_x_stream_client_8h_source.html">M2XStreamClient.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:af3b9f8ea7ebe0d4ac237563cd6a2c4ff"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m2_x_stream_client.html#af3b9f8ea7ebe0d4ac237563cd6a2c4ff">M2XStreamClient</a> (<a class="el" href="class_client.html">Client</a> *client, const char *key, void(*idlefunc)(void)=NULL, int case_insensitive=1, const char *host=DEFAULT_M2X_HOST, int port=DEFAULT_M2X_PORT, const char *path_prefix=NULL)</td></tr>
<tr class="separator:af3b9f8ea7ebe0d4ac237563cd6a2c4ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a273f72a1f6f0b506478f6ea6e4f8f0c4"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:a273f72a1f6f0b506478f6ea6e4f8f0c4"><td class="memTemplItemLeft" align="right" valign="top">int&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="class_m2_x_stream_client.html#a273f72a1f6f0b506478f6ea6e4f8f0c4">updateStreamValue</a> (const char *deviceId, const char *streamName, T value)</td></tr>
<tr class="separator:a273f72a1f6f0b506478f6ea6e4f8f0c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a783eb8afbb04ef986079b58effd512d5"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:a783eb8afbb04ef986079b58effd512d5"><td class="memTemplItemLeft" align="right" valign="top">int&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="class_m2_x_stream_client.html#a783eb8afbb04ef986079b58effd512d5">postDeviceUpdates</a> (const char *deviceId, int streamNum, const char *names[], const int counts[], const char *ats[], T values[])</td></tr>
<tr class="separator:a783eb8afbb04ef986079b58effd512d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa55c8edb1e1f677d19db7a64ce3a9f2c"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:aa55c8edb1e1f677d19db7a64ce3a9f2c"><td class="memTemplItemLeft" align="right" valign="top">int&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="class_m2_x_stream_client.html#aa55c8edb1e1f677d19db7a64ce3a9f2c">postDeviceUpdate</a> (const char *deviceId, int streamNum, const char *names[], T values[], const char *at=NULL)</td></tr>
<tr class="separator:aa55c8edb1e1f677d19db7a64ce3a9f2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68c92f7533cd20958b989eb6e63777b1"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:a68c92f7533cd20958b989eb6e63777b1"><td class="memTemplItemLeft" align="right" valign="top">int&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="class_m2_x_stream_client.html#a68c92f7533cd20958b989eb6e63777b1">updateLocation</a> (const char *deviceId, const char *name, T latitude, T longitude, T elevation)</td></tr>
<tr class="separator:a68c92f7533cd20958b989eb6e63777b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adafece035095dfee12d06b55ec22ef7d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m2_x_stream_client.html#adafece035095dfee12d06b55ec22ef7d">deleteValues</a> (const char *deviceId, const char *streamName, const char *from, const char *end)</td></tr>
<tr class="separator:adafece035095dfee12d06b55ec22ef7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a489ed61b1d590cef9f3de43984106314"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m2_x_stream_client.html#a489ed61b1d590cef9f3de43984106314">markCommandProcessed</a> (const char *deviceId, const char *commandId, <a class="el" href="_m2_x_stream_client_8h.html#a56880e5992e2d4987bac2a1d9aa550b5">m2x_fill_data_callback</a> callback, void *context)</td></tr>
<tr class="separator:a489ed61b1d590cef9f3de43984106314"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0c80341dd5dc08433adc9c6f05b9a9b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m2_x_stream_client.html#ac0c80341dd5dc08433adc9c6f05b9a9b">markCommandProcessedWithData</a> (const char *deviceId, const char *commandId, const char *data)</td></tr>
<tr class="separator:ac0c80341dd5dc08433adc9c6f05b9a9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c10f025e70db19f2ca6f2686fd94bd9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m2_x_stream_client.html#a6c10f025e70db19f2ca6f2686fd94bd9">markCommandRejected</a> (const char *deviceId, const char *commandId, <a class="el" href="_m2_x_stream_client_8h.html#a56880e5992e2d4987bac2a1d9aa550b5">m2x_fill_data_callback</a> callback, void *context)</td></tr>
<tr class="separator:a6c10f025e70db19f2ca6f2686fd94bd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accd955bd57c7c4c08c48378a7fe8e47a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m2_x_stream_client.html#accd955bd57c7c4c08c48378a7fe8e47a">markCommandRejectedWithData</a> (const char *deviceId, const char *commandId, const char *data)</td></tr>
<tr class="separator:accd955bd57c7c4c08c48378a7fe8e47a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff4c3e8cab283558003bc1cc21760090"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m2_x_stream_client.html#aff4c3e8cab283558003bc1cc21760090">getTimestamp32</a> (int32_t *ts)</td></tr>
<tr class="separator:aff4c3e8cab283558003bc1cc21760090"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab276191904ba49c8b470063dc5a48c2d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m2_x_stream_client.html#ab276191904ba49c8b470063dc5a48c2d">getTimestamp</a> (char *buffer, int *bufferLength)</td></tr>
<tr class="separator:ab276191904ba49c8b470063dc5a48c2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="_m2_x_stream_client_8h_source.html#l00122">122</a> of file <a class="el" href="_m2_x_stream_client_8h_source.html">M2XStreamClient.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="af3b9f8ea7ebe0d4ac237563cd6a2c4ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3b9f8ea7ebe0d4ac237563cd6a2c4ff">&#9670;&nbsp;</a></span>M2XStreamClient()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">M2XStreamClient::M2XStreamClient </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_client.html">Client</a> *&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(void)&#160;</td>
          <td class="paramname"><em>idlefunc</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>case_insensitive</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>host</em> = <code>DEFAULT_M2X_HOST</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>port</em> = <code>DEFAULT_M2X_PORT</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path_prefix</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_m2_x_stream_client_8h_source.html#l00504">504</a> of file <a class="el" href="_m2_x_stream_client_8h_source.html">M2XStreamClient.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="adafece035095dfee12d06b55ec22ef7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adafece035095dfee12d06b55ec22ef7d">&#9670;&nbsp;</a></span>deleteValues()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int M2XStreamClient::deleteValues </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>deviceId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>streamName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>end</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Method for <a href="https://m2x.att.com/developer/documentation/v2/device#Delete-Data-Stream-Values">Delete Data Stream Values</a> endpoint. Delete values from a data stream </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">deviceId</td><td>- id of the device to post values</td></tr>
  </table>
  </dd>
</dl>
<p>You will need to provide from and end date/time strings in the ISO8601 format "yyyy-mm-ddTHH:MM:SS.SSSZ" where yyyy: the year mm: the month dd: the day HH: the hour (24 hour format) MM: the minute SS.SSS: the seconds (to the millisecond)</p>
<p>NOTE: the time is given in Zulu (GMT) M2X will delete all values within the from to end date/time range. The status code is 204 on success and 400 on a bad request (e.g. the timestamp is not in ISO8601 format or the from timestamp is not less than or equal to the end timestamp. </p>

<p class="definition">Definition at line <a class="el" href="_m2_x_stream_client_8h_source.html#l00702">702</a> of file <a class="el" href="_m2_x_stream_client_8h_source.html">M2XStreamClient.h</a>.</p>

</div>
</div>
<a id="ab276191904ba49c8b470063dc5a48c2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab276191904ba49c8b470063dc5a48c2d">&#9670;&nbsp;</a></span>getTimestamp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int M2XStreamClient::getTimestamp </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>bufferLength</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Fetches current timestamp in seconds from M2X server. This function will return the timestamp as an integer literal in the provided buffer. Hence there's no problem working after 03:14:07 UTC on 19 January 2038. The drawback part here, is that you will have to work with 64-bit integer, which is not available on certain platform(such as Arduino), a bignum library or alike is needed in this case.</p>
<p>Notice +bufferLength+ is supposed to contain the length of the buffer when calling this function. It is also the caller's responsibility to ensure the buffer is big enough, otherwise the library will return an error indicating the buffer is too small. While this is not accurate all the time, one trick here is to pass in 0 as the bufferLength, in which case we will always return the buffer-too-small error. However, the correct buffer length can be found this way so a secound execution is most likely to work (unless we are at the edge of the buffer length increasing, for example, when the timestamp jumps from 9999999999 to 10000000000, which is highly unlikely to happend). However, given that the maximum 64-bit integer can be stored in 19 bytes, there's not much need to use this trick.)</p>
<p>The returned value will contain the status code(positive values) or the error code(negative values).</p>
<p>In case of success, the current timestamp will be filled in the passed +buffer+ pointer, and the actual used buffer length will be returned in +bufferLength+ pointer.</p>
<p>NOTE: as long as we can read the returned buffer length, it will be used to fill in the +bufferLength+ variable even though other errors occur(buffer is not enough, network is shutdown before reading the whole buffer, etc.) </p>

<p class="definition">Definition at line <a class="el" href="_m2_x_stream_client_8h_source.html#l00806">806</a> of file <a class="el" href="_m2_x_stream_client_8h_source.html">M2XStreamClient.h</a>.</p>

</div>
</div>
<a id="aff4c3e8cab283558003bc1cc21760090"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff4c3e8cab283558003bc1cc21760090">&#9670;&nbsp;</a></span>getTimestamp32()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int M2XStreamClient::getTimestamp32 </td>
          <td>(</td>
          <td class="paramtype">int32_t *&#160;</td>
          <td class="paramname"><em>ts</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Fetches current timestamp in seconds from M2X server. Since we are using signed 32-bit integer as return value, this will only return valid results before 03:14:07 UTC on 19 January 2038. If the device is supposed to work after that, this function should not be used.</p>
<p>The returned value will contain the status code(positive values) or the error code(negative values).In case of success, the current timestamp will be filled in the +ts+ pointer passed in as argument.</p>
<p>NOTE: although returning uint32_t can give us a larger space, we prefer to cope with the unix convention here. </p>

<p class="definition">Definition at line <a class="el" href="_m2_x_stream_client_8h_source.html#l00789">789</a> of file <a class="el" href="_m2_x_stream_client_8h_source.html">M2XStreamClient.h</a>.</p>

</div>
</div>
<a id="a489ed61b1d590cef9f3de43984106314"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a489ed61b1d590cef9f3de43984106314">&#9670;&nbsp;</a></span>markCommandProcessed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int M2XStreamClient::markCommandProcessed </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>deviceId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>commandId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_m2_x_stream_client_8h.html#a56880e5992e2d4987bac2a1d9aa550b5">m2x_fill_data_callback</a>&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Method for <a href="https://m2x.att.com/developer/documentation/v2/commands#Device-Marks-a-Command-as-Processed">Device Marks a Command as Processed</a> endpoint. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">deviceId</td><td>- id of the device </td></tr>
    <tr><td class="paramname">commandId</td><td>- id of the command </td></tr>
    <tr><td class="paramname">callback</td><td>- To make sure the minimal amount of memory is needed, this API works with a callback function. The callback function is then used to fill the request data, note that in order to correctly set the content length in HTTP header, the callback function will be called twice, the caller must make sure both calls fill the <a class="el" href="class_print.html">Print</a> object with exactly the same data. If you have a pre-allocated buffer filled with the data to post, you can use markCommandProcessedWithData API below.</td></tr>
    <tr><td class="paramname">context</td><td>- the context </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_m2_x_stream_client_8h_source.html#l00717">717</a> of file <a class="el" href="_m2_x_stream_client_8h_source.html">M2XStreamClient.h</a>.</p>

</div>
</div>
<a id="ac0c80341dd5dc08433adc9c6f05b9a9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0c80341dd5dc08433adc9c6f05b9a9b">&#9670;&nbsp;</a></span>markCommandProcessedWithData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int M2XStreamClient::markCommandProcessedWithData </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>deviceId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>commandId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Method for <a href="https://m2x.att.com/developer/documentation/v2/commands#Device-Marks-a-Command-as-Processed">Device Marks a Command as Processed</a> endpoint. Mark a command as processed with a data buffer. This is exactly like markCommandProcessed, except that a buffer is use to contain the data to post as the request body. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">deviceId</td><td>- id of the device </td></tr>
    <tr><td class="paramname">commandId</td><td>- id of the command </td></tr>
    <tr><td class="paramname">data</td><td>- the data buffer </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_m2_x_stream_client_8h_source.html#l00749">749</a> of file <a class="el" href="_m2_x_stream_client_8h_source.html">M2XStreamClient.h</a>.</p>

</div>
</div>
<a id="a6c10f025e70db19f2ca6f2686fd94bd9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c10f025e70db19f2ca6f2686fd94bd9">&#9670;&nbsp;</a></span>markCommandRejected()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int M2XStreamClient::markCommandRejected </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>deviceId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>commandId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_m2_x_stream_client_8h.html#a56880e5992e2d4987bac2a1d9aa550b5">m2x_fill_data_callback</a>&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Method for <a href="https://m2x.att.com/developer/documentation/v2/commands#Device-Marks-a-Command-as-Rejected">Device Marks a Command as Rejected</a> endpoint. Mark a command as rejected. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">deviceId</td><td>- id of the device </td></tr>
    <tr><td class="paramname">commandId</td><td>- id of the command </td></tr>
    <tr><td class="paramname">callback</td><td>- To make sure the minimal amount of memory is needed, this API works with a callback function. The callback function is then used to fill the request data, note that in order to correctly set the content length in HTTP header, the callback function will be called twice, the caller must make sure both calls fill the <a class="el" href="class_print.html">Print</a> object with exactly the same data. If you have a pre-allocated buffer filled with the data to post, you can use markCommandRejectedWithData API below. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_m2_x_stream_client_8h_source.html#l00756">756</a> of file <a class="el" href="_m2_x_stream_client_8h_source.html">M2XStreamClient.h</a>.</p>

</div>
</div>
<a id="accd955bd57c7c4c08c48378a7fe8e47a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#accd955bd57c7c4c08c48378a7fe8e47a">&#9670;&nbsp;</a></span>markCommandRejectedWithData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int M2XStreamClient::markCommandRejectedWithData </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>deviceId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>commandId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Method for <a href="https://m2x.att.com/developer/documentation/v2/commands#Device-Marks-a-Command-as-Rejected">Device Marks a Command as Rejected</a> endpoint. Mark a command as rejected with a data buffer This is exactly like markCommandRejected, except that a buffer is use to contain the data to post as the request body. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">deviceId</td><td>- id of the device </td></tr>
    <tr><td class="paramname">commandId</td><td>- id of the command </td></tr>
    <tr><td class="paramname">data</td><td>- the data buffer </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_m2_x_stream_client_8h_source.html#l00782">782</a> of file <a class="el" href="_m2_x_stream_client_8h_source.html">M2XStreamClient.h</a>.</p>

</div>
</div>
<a id="aa55c8edb1e1f677d19db7a64ce3a9f2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa55c8edb1e1f677d19db7a64ce3a9f2c">&#9670;&nbsp;</a></span>postDeviceUpdate()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">int M2XStreamClient::postDeviceUpdate </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>deviceId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>streamNum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>names</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>values</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>at</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Method for <a href="https://m2x.att.com/developer/documentation/v2/device#Post-Device-Update--Single-Values-to-Multiple-Streams-">Post Device Update</a> endpoint. Post multiple values of a single device at once. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">deviceId</td><td>- id of the device to post values </td></tr>
    <tr><td class="paramname">streamNum</td><td>- Number of streams to post </td></tr>
    <tr><td class="paramname">names</td><td>- Array of stream names, the length of the array should be exactly +streamNum+ </td></tr>
    <tr><td class="paramname">values</td><td>- Array of values to post, the length of the array should be exactly +streamNum+. Notice that the array of +values+ should match the array of +names+, and that the ith value in +values+ is exactly the value to post for the ith stream name in +names+</td></tr>
  </table>
  </dd>
</dl>
<p>NOTE: if you want to update by a serial, use "serial/&lt;serial ID&gt;" as the device ID here. </p>

<p class="definition">Definition at line <a class="el" href="_m2_x_stream_client_8h_source.html#l00611">611</a> of file <a class="el" href="_m2_x_stream_client_8h_source.html">M2XStreamClient.h</a>.</p>

</div>
</div>
<a id="a783eb8afbb04ef986079b58effd512d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a783eb8afbb04ef986079b58effd512d5">&#9670;&nbsp;</a></span>postDeviceUpdates()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">int M2XStreamClient::postDeviceUpdates </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>deviceId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>streamNum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>names</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>counts</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>ats</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>values</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Method for <a href="https://m2x.att.com/developer/documentation/v2/device#Post-Device-Updates--Multiple-Values-to-Multiple-Streams-">Post Device Updates (Multiple Values to Multiple Streams)</a> endpoint. Post multiple values to M2X all at once. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">deviceId</td><td>- id of the device to post values </td></tr>
    <tr><td class="paramname">streamNum</td><td>- Number of streams to post </td></tr>
    <tr><td class="paramname">names</td><td>- Array of stream names, the length of the array should be exactly +streamNum+ </td></tr>
    <tr><td class="paramname">counts</td><td>- Array of +streamNum+ length, each item in this array containing the number of values we want to post for each stream </td></tr>
    <tr><td class="paramname">ats</td><td>- Timestamps for each value, the length of this array should be the some of all values in +counts+, for the first +counts[0]+ items, the values belong to the first stream, for the following +counts[1]+ number of items, the values belong to the second stream, etc. Notice that timestamps are required here: you must provide a timestamp for each value posted. </td></tr>
    <tr><td class="paramname">values</td><td>- Values to post. This works the same way as +ats+, the first +counts[0]+ number of items contain values to post to the first stream, the succeeding +counts[1]+ number of items contain values for the second stream, etc. The length of this array should be the sum of all values in +counts+ array.</td></tr>
  </table>
  </dd>
</dl>
<p>NOTE: if you want to update by a serial, use "serial/&lt;serial ID&gt;" as the device ID here. </p>

<p class="definition">Definition at line <a class="el" href="_m2_x_stream_client_8h_source.html#l00565">565</a> of file <a class="el" href="_m2_x_stream_client_8h_source.html">M2XStreamClient.h</a>.</p>

</div>
</div>
<a id="a68c92f7533cd20958b989eb6e63777b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68c92f7533cd20958b989eb6e63777b1">&#9670;&nbsp;</a></span>updateLocation()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">int M2XStreamClient::updateLocation </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>deviceId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>latitude</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>longitude</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>elevation</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Method for <a href="https://m2x.att.com/developer/documentation/v2/device#Update-Device-Location">Update Device Location</a> endpoint. Update datasource location </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">deviceId</td><td>- id of the device. </td></tr>
    <tr><td class="paramname">name</td><td>- a name identifying this location </td></tr>
    <tr><td class="paramname">latitude</td><td>- latitude </td></tr>
    <tr><td class="paramname">longitude</td><td>- longitude </td></tr>
    <tr><td class="paramname">elevation</td><td>- elevation NOTE: On an Arduino Uno and other ATMEGA based boards, double has 4-byte (32 bits) precision, which is the same as float. So there's no natural double-precision floating number on these boards. With a float value, we have a precision of roughly 7 digits, that means either 5 or 6 digits after the floating point. According to wikipedia, a difference of 0.00001 will give us ~1.1132m distance. If this precision is good for you, you can use the double-version we provided here. Otherwise, you may need to use the string-version and do the actual conversion by yourselves. However, with an Arduino Due board, double has 8-bytes (64 bits) precision, which means you are free to use the double-version only without any precision problems. Returned value is the http status code.</td></tr>
  </table>
  </dd>
</dl>
<p>NOTE: if you want to update by a serial, use "serial/&lt;serial ID&gt;" as the device ID here. </p>

<p class="definition">Definition at line <a class="el" href="_m2_x_stream_client_8h_source.html#l00666">666</a> of file <a class="el" href="_m2_x_stream_client_8h_source.html">M2XStreamClient.h</a>.</p>

</div>
</div>
<a id="a273f72a1f6f0b506478f6ea6e4f8f0c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a273f72a1f6f0b506478f6ea6e4f8f0c4">&#9670;&nbsp;</a></span>updateStreamValue()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">int M2XStreamClient::updateStreamValue </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>deviceId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>streamName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Method for <a href="https://m2x.att.com/developer/documentation/v2/device#Update-Data-Stream-Value">Update Data Stream Value</a> endpoint. Push data stream value using PUT request, returns the HTTP status code </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">deviceId</td><td>- id of the device to post values </td></tr>
    <tr><td class="paramname">streamName</td><td>- Name of the stream. </td></tr>
    <tr><td class="paramname">value</td><td>- the value.</td></tr>
  </table>
  </dd>
</dl>
<p>NOTE: if you want to update by a serial, use "serial/&lt;serial ID&gt;" as the device ID here. </p>

<p class="definition">Definition at line <a class="el" href="_m2_x_stream_client_8h_source.html#l00521">521</a> of file <a class="el" href="_m2_x_stream_client_8h_source.html">M2XStreamClient.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/Users/apple/Desktop/gokul/ATT-GITHUB/test/m2x-arduino-master/M2XStreamClient/<a class="el" href="_m2_x_stream_client_8h_source.html">M2XStreamClient.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_m2_x_stream_client.html">M2XStreamClient</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
